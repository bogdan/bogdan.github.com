<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

    <head>
        <title>Bogdan Gusiev's blog</title>
        <meta name="robots" content="follow, all" />
        <link rel="stylesheet" href="/css/default.css" type="text/css" media="screen" />
        <link rel="alternate" type="application/rss+xml" title="Bogdan Gusiev's blog RSS Feed" href="http://feeds.feedburner.com/BogdanGusiev?format=xml" />
        <link rel="shortcut icon" href="/images/favicon.ico"/>
        <title>Debug ajax requests in more easy way</title>

        <link rel="icon" href="/images/favicon.ico"/>


    </head>

    <body>
        <div id="wrapper">

            <div id="header">
                <h1><a href="http://gusiev.com">Bogdan Gusiev's blog</a></h1>
                <h2>How to make your Ruby on Rails application</h4>
            </div> <!-- Closes header -->



            <div id="catnav">
                <div id="toprss">
                    <a href="http://feeds2.feedburner.com/BogdanGusiev?format=xml">
                        <img src="http://gusiev.com/wp-content/themes/pixeled/images/rss-trans.png" alt="Bogdan Gusiev&#8217;s blog" width="65" height="24" />
                    </a>
                </div> <!-- Closes toprss -->
                <ul id="nav">
                    <li><a href="http://gusiev.com">Home</a></li>
                    <li><a href="/?page_id=7">About me</a></li>
                    <li><a href="/?page_id=13">Contacts</a></li>
                </ul>
            </div> <!-- Closes catnav -->

            <div class="clear"></div>

            <div id="main">

                <div id="content">
                    <div id="post">
When I have to debug ajax requests, I always feel pain in the ass accessing the exception message and backtrace. It require at least 3 clicks to get them and only in the plain html format, that web framework use to generate. Is it better to see it at once in the browser popup?  
<!--more-->
<br/><br/>
This can be done with Ajax callbacks offered by javascript framework(if yours doesn't - get rid of it). We can catch errors there and display popup. JQuery example with #ajaxError callback that fires on every unsuccessful ajax call:
<pre><code>(function() {
      var popup = null;
      $(document).ajaxError(function(event, xhr, settings, exception) {
        if (popup) {
          popup.close();
          popup = null;
        }
        popup = window.open(null, "error", "width=800,height=600");
        $(popup.document.documentElement).html(xhr.responseText);
        return true;
      });
    }());</code></pre>

Checked in FF and Chrome(IE is not a browser).
<a href="http://img6.imagebanana.com/img/drl8wpd9/screenshot_014.png">Screenshot</a> with the result. Be aware of browser popup blocker. <br/>
You always have a control when popup the error. I like it to be "in any case". But You can customize it with <em>xhr.status</em> and <em>if</em> statement on the server side.
<br/><br/>
In some cases it might be useful not only in the development but in production as well. But it should be an iframe inside of pretty html layout, so that designers won't blame programmers too much.

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>18 Mar 2011</span> &raquo; <a href="/2011/03/ajax-jquery-debug-javascript">Debug ajax requests in more easy way</a></li>
    
      <li><span>30 Sep 2010</span> &raquo; <a href="/2010/09/good-passwords-theory">Good passwords theory</a></li>
    
      <li><span>26 Aug 2010</span> &raquo; <a href="/2010/08/populate-db-pattern-fake-data">Populate database pattern - why is it so cool?</a></li>
    
  </ul>
</div>

                </div>
                    <a href="http://feeds2.feedburner.com/BogdanGusiev?format=xml">
                        <img src="http://gusiev.com/wp-content/themes/pixeled/images/rss-trans.png" alt="Bogdan Gusiev&#8217;s blog" width="65" height="24" />
                    </a>
                </div> <!-- Closes toprss -->
                <div id="sidebars">
                    <div id="welcome">
                        <h2> Welcome to my home page!</h2><p>Feel free to join the discussion by leaving comments, and stay updated by subscribing to the <a href='http://feeds2.feedburner.com/BogdanGusiev?format=xml'>RSS feed</a>.</p>

                    </div><!-- Closes welcome -->
                    <div class="sidebarbox">
                        <h2>Recent Posts</h2>
                        <ul>
                            
                            <li>
                                <a href='/2011/04/javascript-injection-in-json-inserted-directly-into-script-tag'>JavaScript injection in JSON inserted directly into script tag</a>
                            </li>
                            
                            <li>
                                <a href='/2011/03/do-git-commits-associated-to-hoptoad-errors'>Do git commits associated to hoptoad errors</a>
                            </li>
                            
                            <li>
                                <a href='/2011/03/ajax-jquery-debug-javascript'>Debug ajax requests in more easy way</a>
                            </li>
                            
                            <li>
                                <a href='/2010/11/dynamic-context-in-rspec-dont-repeat-yourself'>Dynamic context in Rspec - don't repeat yourself</a>
                            </li>
                            
                            <li>
                                <a href='/2010/09/good-passwords-theory'>Good passwords theory</a>
                            </li>
                            
                        </ul>
                    </div>
                    <div class="sidebarbox">
                        <h2>Search</h2>
                        <p>Use the form below to search the site:</p>
                        <form method="get" id="searchform" action="http://gusiev.com/">
                            <input type="text" value="Search keywords" name="s" id="searchbox" onfocus="this.value=''"/>
                            <input type="submit" class="submitbutton" value="Find it" />
                        </form>	
                    </div>
                    <div class="sidebarbox">
                        <h2>Browse by tags</h2>
                    </div>

                </div><!-- Closes Sidebar_full -->



                <div class="clear"></div>
            </div> <!-- Closes Sidebars -->
            <div class="clear"></div>

        </div><!-- Closes Main -->


        <div id="morefoot">
            <!--LiveInternet counter-->
            <script type="text/javascript">
                document.write("<a href='http://www.liveinternet.ru/click' "+
                        "target=_blank><img src='http://counter.yadro.ru/hit?t40.6;r"+
                        escape(document.referrer)+((typeof(screen)=="undefined")?"":
                            ";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
                                screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
                        ";"+Math.random()+
                        "' alt='' title='LiveInternet' "+
                        "border='0' width='31' height='31'><\/a>");
            </script><!--/LiveInternet-->
            <!--SpyLOG-->
            <span id="spylog2009244"></span><script type="text/javascript"> var spylog = { counter: 2009244, image: 26, next: spylog }; document.write(unescape('%3Cscript src%3D"http' + (('https:' == document.location.protocol) ? 's' : '') + '://counter.spylog.com/cnt.js" defer="defer"%3E%3C/script%3E')); </script>
            <!--SpyLOG-->
            <script type="text/javascript">
                var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
                document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
            </script>
            <script type="text/javascript">
                try {
                    var pageTracker = _gat._getTracker("UA-12663165-1");
                    pageTracker._trackPageview();
                } catch(err) {}</script>
            The Content of this blog can be published anywhere with the link to original source.


        </div><!-- Closes morefoot -->




    </body>
</html>



